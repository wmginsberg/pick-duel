(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5158:e=>{"use strict";e.exports=require("http2")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},5477:e=>{"use strict";e.exports=require("punycode")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6330:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>d,pages:()=>u,routeModule:()=>x,tree:()=>c});var r=s(482),o=s(9108),a=s(2563),i=s.n(a),l=s(8300),n={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>l[e]);s.d(t,n);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,751)),"/Users/wginsber/Desktop/projects/pick-duel-clean/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/wginsber/Desktop/projects/pick-duel-clean/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],u=["/Users/wginsber/Desktop/projects/pick-duel-clean/app/page.tsx"],d="/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:o.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2074:(e,t,s)=>{Promise.resolve().then(s.bind(s,4302))},4302:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(2295),o=s(3729),a=s(2254),i=s(9419),l=s(1844),n=s(7521),c=s(8414);let u=["Movies","Cuisines","Restaurants","Travel Destinations","Names","Custom"];function d(){let e=(0,a.useRouter)(),t=(0,a.useSearchParams)(),{user:s,createRoom:d,joinRoom:p,loading:x}=(0,i.gT)(),[m,g]=(0,o.useState)(""),[h,b]=(0,o.useState)(u[0]),[y,f]=(0,o.useState)(""),[j,w]=(0,o.useState)(""),[v,N]=(0,o.useState)(""),[q,k]=(0,o.useState)(null);(0,o.useEffect)(()=>{if(s){let s=t.get("redirectRoomId");s&&e.replace(`/rooms/${s}`)}},[s,t,e]),(0,o.useEffect)(()=>{let e=t.get("redirectRoomId");e?(async()=>{let t=(0,c.JU)(n.db,"rooms",e),s=await (0,c.QT)(t);s.exists()?k(s.id):k(e)})():k(null)},[t]);let P=async()=>{await (0,i.qj)()},_=async()=>{w("");let t=h;if("Custom"===h){if(!y.trim()){w("Please enter a custom category.");return}t=y.trim()}try{let s=await d(t),r=`${window.location.origin}/rooms/${s}`;N(r),e.push(`/rooms/${s}`)}catch(e){w("Failed to create room.")}},C=async t=>{if(t.preventDefault(),w(""),!(0,l.f)(m)){w("Room IDs must be in the format: spicy-tiger-echo (two hyphens, all lowercase)");return}try{await p(m),e.push(`/rooms/${m}`)}catch(e){w("Failed to join room.")}};return(0,r.jsxs)("main",{className:"min-h-screen flex flex-col items-center justify-center px-4 py-12 bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,r.jsxs)("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl p-8 space-y-8 animate-fade-in",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2",children:[r.jsx("img",{src:"/logo.svg",alt:"Pick Duel Logo",className:"w-16 h-16 mb-2"}),r.jsx("h1",{className:"text-3xl font-bold text-primary-700",children:"Pick Duel"}),r.jsx("p",{className:"text-gray-600 text-center",children:"A fun two-player game to help you make decisions together. Secretly enter options, eliminate, then vote!"})]}),s?(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("select",{value:h,onChange:e=>b(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:x,children:u.map(e=>r.jsx("option",{value:e,children:e},e))}),"Custom"===h&&r.jsx("input",{type:"text",value:y,onChange:e=>f(e.target.value),className:"w-full mt-2 px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your custom category...",disabled:x})]}),r.jsx("button",{onClick:_,className:"w-full py-3 px-6 rounded-lg font-semibold text-white bg-green-600 hover:bg-green-700 transition-colors duration-200 shadow-lg hover:shadow-xl",disabled:x,children:"Create New Room"}),v&&(0,r.jsxs)("div",{className:"mt-2",children:[r.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Room URL"}),r.jsx("input",{type:"text",value:v,readOnly:!0,className:"w-full px-3 py-2 border rounded bg-gray-100 text-xs"})]})]}),(0,r.jsxs)("form",{onSubmit:C,className:"space-y-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Join Room by ID"}),r.jsx("input",{type:"text",value:m,onChange:e=>g(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"e.g. spicy-tiger-echo",disabled:x}),(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Room IDs must be in the format: ",r.jsx("span",{className:"font-mono",children:"spicy-tiger-echo"})," (two hyphens, all lowercase)"]}),r.jsx("button",{type:"submit",className:"w-full py-3 px-6 rounded-lg font-semibold text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200 shadow-lg hover:shadow-xl",disabled:x,children:"Join Room"})]})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[q&&(0,r.jsxs)("div",{className:"w-full text-center bg-blue-50 border border-blue-200 text-blue-700 rounded-lg px-4 py-2 mb-2",children:[r.jsx("span",{className:"font-semibold",children:"Sign in to join room:"})," ",r.jsx("span",{className:"font-mono",children:q})]}),(0,r.jsxs)("button",{onClick:P,className:"w-full py-3 px-6 rounded-lg font-semibold text-white bg-primary-600 hover:bg-primary-700 transition-colors duration-200 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",disabled:x,children:[r.jsx("img",{src:"/google.svg",alt:"Google",className:"w-5 h-5"}),"Sign in with Google"]})]}),j&&r.jsx("div",{className:"text-center text-red-500 text-sm mt-2",children:j})]}),(0,r.jsxs)("div",{className:"mt-8 text-gray-400 text-xs text-center",children:["\xa9 ",new Date().getFullYear()," Pick Duel. All rights reserved."]})]})}},751:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>o,default:()=>i});let r=(0,s(6843).createProxy)(String.raw`/Users/wginsber/Desktop/projects/pick-duel-clean/app/page.tsx`),{__esModule:o,$$typeof:a}=r,i=r.default}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[242,386,114],()=>s(6330));module.exports=r})();