exports.id=114,exports.ids=[114],exports.modules={2170:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,2583,23)),Promise.resolve().then(r.t.bind(r,6840,23)),Promise.resolve().then(r.t.bind(r,8771,23)),Promise.resolve().then(r.t.bind(r,3225,23)),Promise.resolve().then(r.t.bind(r,9295,23)),Promise.resolve().then(r.t.bind(r,3982,23))},617:()=>{},7521:(e,t,r)=>{"use strict";r.d(t,{I8:()=>l,Vv:()=>u,db:()=>s});var i=r(6041),o=r(390),n=r(8414);let a=(0,i.ZF)({apiKey:"AIzaSyAI2xRQDQ2ZTkPCOxb0CLE826BpX-VRQu4",authDomain:"pick-duel.firebaseapp.com",projectId:"pick-duel",storageBucket:"pick-duel.firebasestorage.app",messagingSenderId:"443838139867",appId:"1:443838139867:web:73372df5df72ece9602bfe"}),l=(0,o.v0)(a),s=(0,n.ad)(a),u=new o.hJ;u.setCustomParameters({prompt:"select_account"})},8584:(e,t,r)=>{"use strict";function i(e){switch(e){case 0:return"Waiting for both players to submit options";case 1:return"Player 1 eliminates one option from Player 2";case 2:return"Player 2 eliminates one option from Player 1";case 3:return"Player 1 eliminates one of their own options";case 4:return"Player 2 eliminates one of their own options";default:return"Voting on final options"}}function o(e){return e.votingTurn||null}function n(e,t){let r=Object.keys(e.players);if(2!==r.length)return[];let[i,o]=r,n=e.players[t],a=e.players[t===i?o:i];switch(e.eliminationStep){case 1:return a.options.filter(e=>!a.eliminated.includes(e));case 2:return a.options.filter(e=>!a.eliminated.includes(e));case 3:return n.options.filter(e=>!n.eliminated.includes(e));case 4:return n.options.filter(e=>!n.eliminated.includes(e));default:return[]}}function a(e){let t=[];return Object.values(e.players).forEach(e=>{let r=e.options.filter(t=>!e.eliminated.includes(t));t.push(...r)}),t}function l(e,t){switch(e.toLowerCase()){case"movies":return 1===t?"\uD83C\uDFAC":"\uD83D\uDCFD️";case"cuisines":return 1===t?"\uD83C\uDF2E":"\uD83C\uDF63";case"restaurants":return 1===t?"\uD83E\uDDD1‍\uD83C\uDF73":"\uD83C\uDF7D️";case"travel destinations":return 1===t?"\uD83C\uDFD6️":"\uD83C\uDFD4️";case"names":return 1===t?"⭐️":"❤️";default:return 1===t?"\uD83C\uDFC6":"\uD83D\uDE80"}}r.d(t,{RC:()=>i,bK:()=>l,oK:()=>n,qi:()=>a,yu:()=>o})},1844:(e,t,r)=>{"use strict";r.d(t,{f:()=>a,q:()=>n});var i=r(803);let o={dictionaries:[i.Dv,i.O9,i.yd],separator:"-",length:3};function n(){return(0,i._8)(o).toLowerCase()}function a(e){return/^[a-z]+-[a-z]+-[a-z]+$/.test(e)}},9419:(e,t,r)=>{"use strict";r.d(t,{Mx:()=>c,gT:()=>u,qj:()=>d});var i=r(3158),o=r(8414),n=r(390),a=r(7521),l=r(1844),s=r(8584);let u=(0,i.Ue)((e,t)=>({user:null,room:null,step:0,loading:!1,error:null,setUser:t=>e({user:t}),setLoading:t=>e({loading:t}),setError:t=>e({error:t}),resetGame:()=>e({room:null,step:0,error:null}),joinRoom:async r=>{let{user:i}=t();if(!i)throw Error("User not authenticated");e({loading:!0,error:null});try{let t=(0,o.JU)(a.db,"rooms",r),n=await (0,o.QT)(t);if(!n.exists())throw Error("Room not found");let l=n.data();if(Object.keys(l.players).length>=2)throw Error("Room is full");let s={displayName:i.displayName||"Anonymous",avatar:i.photoURL||"",options:[],eliminated:[],vote:null};await (0,o.r7)(t,{[`players.${i.uid}`]:s});let u=(0,o.cf)(t,t=>{if(t.exists()){let r=t.data();e({room:r})}});window.roomUnsubscribe=u}catch(t){e({error:t instanceof Error?t.message:"Failed to join room"})}finally{e({loading:!1})}},createRoom:async(r="custom")=>{let{user:i}=t();if(!i)throw Error("User not authenticated");e({loading:!0,error:null});try{let t=(0,l.q)(),n=(0,o.JU)(a.db,"rooms",t),s={displayName:i.displayName||"Anonymous",avatar:i.photoURL||"",options:[],eliminated:[],vote:null},u={roomId:t,createdAt:(0,o.Bt)(),createdBy:i.uid,category:r,players:{[i.uid]:s},eliminationStep:0,votingTurn:null,finalOptions:[],winner:null,status:"waiting"};await (0,o.pl)(n,u);let d=(0,o.cf)(n,t=>{if(t.exists()){let r=t.data();e({room:r})}});return window.roomUnsubscribe=d,t}catch(t){throw e({error:t instanceof Error?t.message:"Failed to create room"}),console.error("Create room error:",t),t}finally{e({loading:!1})}},submitOptions:async r=>{let{user:i,room:n}=t();if(!i||!n)throw Error("User or room not found");if(3!==r.length)throw Error("Must submit exactly 3 options");e({loading:!0,error:null});try{let e=(0,o.JU)(a.db,"rooms",n.roomId);await (0,o.r7)(e,{[`players.${i.uid}.options`]:r});let t={...n.players,[i.uid]:{...n.players[i.uid],options:r}};if(Object.values(t).every(e=>3===e.options.length)){let t=n.createdBy;await (0,o.r7)(e,{status:"playing",eliminationStep:1,votingTurn:t})}}catch(t){e({error:t instanceof Error?t.message:"Failed to submit options"})}finally{e({loading:!1})}},eliminateOption:async r=>{let{user:i,room:n}=t();if(!i||!n)throw Error("User or room not found");if(n.votingTurn===i.uid){e({loading:!0,error:null});try{let e=n.createdBy,t=Object.keys(n.players).find(t=>t!==e);if(!e||!t)throw Error("Both players not found");let l=(0,o.JU)(a.db,"rooms",n.roomId),s=i.uid;1===n.eliminationStep?s=t:2===n.eliminationStep&&(s=e);let u=[...n.players[s].eliminated,r];await (0,o.r7)(l,{[`players.${s}.eliminated`]:u,revealElimination:{option:r,by:i.uid},eliminationAck:{[i.uid]:!1,...Object.fromEntries([e,t].filter(e=>e!==i.uid).map(e=>[e,!1]))}})}catch(t){console.error("Error in eliminateOption:",t),e({error:t instanceof Error?t.message:"Failed to eliminate option"})}finally{e({loading:!1})}}},acknowledgeEliminationReveal:async()=>{let{user:r,room:i}=t();if(r&&i&&i.revealElimination){e({loading:!0,error:null});try{let e=i.createdBy,t=Object.keys(i.players).find(t=>t!==e);if(!e||!t)throw Error("Both players not found");let n=(0,o.JU)(a.db,"rooms",i.roomId),l={...i.eliminationAck||{},[r.uid]:!0};if(await (0,o.r7)(n,{eliminationAck:l}),[e,t].every(e=>l[e])){let a=i.eliminationStep+1,l={revealElimination:null,eliminationAck:{}};if(a<=4)l.eliminationStep=a,2===a||4===a?l.votingTurn=t:l.votingTurn=e,await (0,o.r7)(n,l);else{let a={...i,players:{...i.players,[r.uid]:{...i.players[r.uid],eliminated:[...i.players[r.uid].eliminated,i.revealElimination.option]}}},u=(0,s.qi)(a);for(let r of(l.status="voting",l.finalOptions=u,l.voteRound=1,l.votingTurn=e,[e,t]))l[`players.${r}.vote`]=null;l.finalVotesSubmitted={},await (0,o.r7)(n,l)}}}catch(t){console.error("Error in acknowledgeEliminationReveal:",t),e({error:t instanceof Error?t.message:"Failed to acknowledge elimination reveal"})}finally{e({loading:!1})}}},vote:async r=>{let{user:i,room:n}=t();if(!i||!n)throw Error("User or room not found");let l=n.createdBy,s=Object.keys(n.players).find(e=>e!==l);if(!l||!s)throw Error("Both players not found");let u=2===n.finalOptions.length;if(u){if(n.players[i.uid].vote)return}else if(n.votingTurn!==i.uid||n.players[i.uid].vote)return;e({loading:!0,error:null});try{let e=(0,o.JU)(a.db,"rooms",n.roomId);await (0,o.r7)(e,{[`players.${i.uid}.vote`]:r});let t={...n.players,[i.uid]:{...n.players[i.uid],vote:r}},d=Object.values(t).map(e=>e.vote),c=d.filter(Boolean).length;if(u){if(2===c){let[t,r]=d;if(t===r)await (0,o.r7)(e,{status:"complete",winner:t,randomWinner:!1,votingTurn:null});else{let i=n.voteRound||1;if(i<2){let t={};for(let e of[l,s])t[`players.${e}.vote`]=null;await (0,o.r7)(e,{...t,voteRound:i+1})}else await (0,o.r7)(e,{status:"complete",winner:.5>Math.random()?t:r,randomWinner:!0,votingTurn:null})}}}else if(1===c){let t=[l,s].find(e=>e!==i.uid);await (0,o.r7)(e,{votingTurn:t,[`players.${t}.vote`]:null})}else if(2===c){let[t,r]=d;if(t===r)await (0,o.r7)(e,{status:"complete",winner:t,randomWinner:!1,votingTurn:null});else{let i=n.voteRound||1;if(i<2){let t={};for(let e of[l,s])t[`players.${e}.vote`]=null;await (0,o.r7)(e,{...t,voteRound:i+1,votingTurn:l})}else await (0,o.r7)(e,{status:"complete",winner:.5>Math.random()?t:r,randomWinner:!0,votingTurn:null})}}}catch(t){e({error:t instanceof Error?t.message:"Failed to vote"})}finally{e({loading:!1})}}})),d=async()=>{try{let e=await (0,n.rh)(a.I8,a.Vv);u.getState().setUser(e.user)}catch(e){console.error("Sign in error:",e)}},c=async()=>{try{await (0,n.w7)(a.I8),u.getState().setUser(null),u.getState().resetGame(),window.roomUnsubscribe&&(window.roomUnsubscribe(),window.roomUnsubscribe=null)}catch(e){console.error("Sign out error:",e)}}},2917:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>l,metadata:()=>a});var i=r(5036),o=r(8592),n=r.n(o);r(7272);let a={title:"Pick Duel - Two Player Decision Maker",description:"A fun two-player web app where users secretly enter options, eliminate them in turn-based sequence, then vote to make a final decision.",keywords:"decision maker, two player, game, voting, elimination",authors:[{name:"Pick Duel Team"}],openGraph:{title:"Pick Duel - Two Player Decision Maker",description:"Make decisions together with this fun elimination and voting game!",type:"website",url:"https://pickduel.app"},twitter:{card:"summary_large_image",title:"Pick Duel - Two Player Decision Maker",description:"Make decisions together with this fun elimination and voting game!"}};function l({children:e}){return i.jsx("html",{lang:"en",children:i.jsx("body",{className:n().className,children:i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e})})})}},7272:()=>{}};